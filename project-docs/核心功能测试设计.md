# ✅ 智能配送机器人系统 - 功能测试用例设计

以下测试分为 6 大模块，每个模块包含测试目标、操作步骤、预期结果。

---

## 📌 一、身份认证功能测试

### ✅ TC-001：L1 等级用户认证成功

* **步骤**：

  1. 输入合法员工卡号（L1 权限）
  2. 点击“身份认证”
* **预期结果**：

  * 页面提示“认证成功”
  * 显示认证等级为 L1，计时30分钟

### ✅ TC-002：未认证用户限制操作

* **步骤**：

  1. 不进行身份认证
  2. 尝试点击“呼叫机器人”或“寄送包裹”
* **预期结果**：

  * 系统弹出提示“请先进行身份认证”
  * 操作无法继续

---

## 📌 二、任务调度功能测试（基本流程）

### ✅ TC-101：创建呼叫任务并执行

* **步骤**：

  1. 认证为 L1 用户
  2. 创建一个呼叫任务（选择任意地点）
  3. 点击“开始执行任务队列”
* **预期结果**：

  * 呼叫任务加入执行队列
  * 机器人移动至目标点
  * 状态从“执行中”变为“已到达”

### ✅ TC-102：创建寄件任务，包裹未取件

* **步骤**：

  1. 认证为 L1 用户
  2. 发送一个 L1 等级寄件任务
  3. 点击“开始执行任务队列”
* **预期结果**：

  * 分配 locker，任务执行
  * 到达目标点后状态变为“已到达”，不自动结束

---

## 📌 三、超时处理测试

### ✅ TC-201：寄件任务超时未取件后可跳过

* **步骤**：

  1. 创建并执行一个寄件任务
  2. **等待超过 10 秒无人取件**
  3. 点击“继续下一个任务”
* **预期结果**：

  * 当前任务被移出执行队列
  * 被放回等待队列（若为 L1 降级为 L0）

---

## 📌 四、多任务调度与优先级控制测试

### ✅ TC-301：同等级多任务加权排序正确

* **步骤**：

  1. 创建多个 L1 等级任务（距离、等待时间不同）
  2. 点击“开始执行任务队列”
* **预期结果**：

  * 任务按加权优先级顺序执行（查看调度顺序）

### ✅ TC-302：抢占式调度测试

* **步骤**：

  1. 正在执行 L2 任务
  2. 创建一个新的 L3 任务
  3. 再次点击“开始执行任务队列”
* **预期结果**：

  * 当前任务被抢占，L3 任务立即执行
  * 原任务返回等待队列

---

## 📌 五、取件流程测试

### ✅ TC-401：有效认证下成功取件

* **步骤**：

  1. 寄送一个包裹（认证用户为 A，目标为 B）
  2. B 用户认证身份，进入“取件”页面
  3. 完成“取件认证”，取走包裹
* **预期结果**：

  * 柜门自动打开
  * 任务状态标记为“完成”
  * LOCKER 状态变为“可用”

### ✅ TC-402：未认证取件失败

* **步骤**：

  1. 寄送一个包裹
  2. 不进行认证直接尝试取件
* **预期结果**：

  * 系统阻止取件操作，提示认证失败

---

## 📌 六、界面与反馈测试（非功能性）

### ✅ TC-501：实时地图更新正常

* **步骤**：

  1. 触发机器人导航
  2. 观察地图中的机器人图标
* **预期结果**：

  * 路径实时更新
  * 到达目标后位置停留正确

### ✅ TC-502：locker 状态实时反馈

* **步骤**：

  1. 寄件后查看 locker 状态变为“占用”
  2. 成功取件后恢复为“可用”
* **预期结果**：

  * locker 状态及时更新
