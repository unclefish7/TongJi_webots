# 安全配送机器人系统测试计划

## 1. 测试概述

本测试计划基于安全配送机器人系统的核心功能，重点验证系统的主要业务流程和安全机制的正确性。测试范围包括多级身份认证、任务调度、超时处理、优先级控制、取件流程、安全等级控制和界面反馈等核心功能模块。

## 2. 测试目标

- **验证身份认证功能**：确保不同等级用户的权限控制正常工作
- **验证任务调度功能**：确保任务创建、执行、状态更新流程正确
- **验证超时处理机制**：确保任务超时后的处理逻辑正确
- **验证优先级调度**：确保多任务场景下的调度算法正确执行
- **验证取件流程**：确保包裹寄送和取件的完整流程正常
- **验证界面反馈**：确保系统状态和位置信息实时更新

## 3. 测试用例

### 3.1 身份认证功能测试

#### TC-001：L1等级用户认证成功
- **测试步骤**：
  1. 输入合法员工卡号（L1权限）
  2. 点击"身份认证"
- **预期结果**：
  - 页面提示"认证成功"
  - 显示认证等级为L1，计时30分钟
- **测试结果**：与预期相符

#### TC-002：未认证用户限制操作
- **测试步骤**：
  1. 不进行身份认证
  2. 尝试点击"呼叫机器人"或"寄送包裹"
- **预期结果**：
  - 系统弹出提示"请先进行身份认证"
  - 回到主界面
- **测试结果**：与预期相符

### 3.2 任务调度功能测试

#### TC-101：创建呼叫任务并执行
- **测试步骤**：
  1. 认证为L1用户
  2. 创建一个呼叫任务（选择任意地点）
  3. 点击"开始执行任务队列"
- **预期结果**：
  - 呼叫任务加入执行队列
  - 机器人移动至目标点
  - 状态从"执行中"变为"已到达"
- **测试结果**：与预期相符

#### TC-102：创建寄件任务，包裹未取件
- **测试步骤**：
  1. 认证为L1用户
  2. 发送一个L1等级寄件任务
  3. 点击"开始执行任务队列"
- **预期结果**：
  - 分配locker，任务执行
  - 到达目标点后状态变为"已到达"，不自动结束
- **测试结果**：与预期相符

### 3.3 超时处理测试

#### TC-201：寄件任务超时未取件后可跳过
- **测试步骤**：
  1. 创建并执行一个寄件任务
  2. 等待超过10秒无人取件
  3. 点击"继续下一个任务"
- **预期结果**：
  - 当前任务被移出执行队列
  - 被放回等待队列（若为L1降级为L0）
- **测试结果**：与预期相符

### 3.4 多任务调度与优先级控制测试

#### TC-301：同等级多任务加权排序正确
- **测试步骤**：
  1. 创建多个L1等级任务（距离、等待时间不同）
  2. 点击"开始执行任务队列"
- **预期结果**：
  - 任务按加权优先级顺序执行（查看调度顺序）
- **测试结果**：与预期相符

#### TC-302：抢占式调度测试
- **测试步骤**：
  1. 正在执行L1任务
  2. 创建一个新的L3任务
  3. 再次点击"开始执行任务队列"
- **预期结果**：
  - 当前任务被抢占，L3任务立即执行
  - 原任务返回等待队列
- **测试结果**：与预期相符

### 3.5 取件流程测试

#### TC-401：有效认证下成功取件
- **测试步骤**：
  1. 寄送一个包裹（认证用户为A，目标为B）
  2. B用户认证身份，进入"取件"页面
  3. 完成"取件认证"，取走包裹
- **预期结果**：
  - 柜门自动打开
  - 任务状态标记为"完成"
  - LOCKER状态变为"可用"
- **测试结果**：与预期相符

#### TC-402：未认证取件失败
- **测试步骤**：
  1. 寄送一个包裹
  2. 不进行认证直接尝试取件
- **预期结果**：
  - 系统提示需要先进行认证，无法直接取件
- **测试结果**：与预期相符

### 3.6 界面与反馈测试

#### TC-501：实时地图更新正常
- **测试步骤**：
  1. 触发机器人导航
  2. 观察地图中的机器人图标
- **预期结果**：
  - 路径实时更新
  - 到达目标后位置停留正确
- **测试结果**：与预期相符

## 4. 测试执行记录

### 4.1 测试环境
- **测试日期**：2025.6.23
- **测试人员**：贾文超、周政宇

### 4.2 测试结果汇总

| 测试用例ID | 测试用例名称 | 执行状态 | 结果 | 备注 |
|-----------|-------------|---------|------|------|
| TC-001 | L1等级用户认证成功 | 正常执行 | 与预期相符 | 无 |
| TC-002 | 未认证用户限制操作 | 正常执行 | 与预期相符 | 无 |
| TC-101 | 创建呼叫任务并执行 | 正常执行 | 与预期相符 | 无 |
| TC-102 | 创建寄件任务，包裹未取件 | 正常执行 | 与预期相符 | 无 |
| TC-201 | 寄件任务超时未取件后可跳过 | 正常执行 | 与预期相符 | 无 |
| TC-301 | 同等级多任务加权排序正确 | 正常执行 | 与预期相符 | 无 |
| TC-302 | 抢占式调度测试 | 正常执行 | 与预期相符 | 无 |
| TC-401 | 有效认证下成功取件 | 正常执行 | 与预期相符 | 无 |
| TC-402 | 未认证取件失败 | 正常执行 | 与预期相符 | 无 |
| TC-501 | 实时地图更新正常 | 正常执行 | 与预期相符 | 无 |


### 4.3 缺陷记录

| 缺陷ID | 发现日期 | 缺陷描述 | 严重程度 | 状态 | 修复日期 |
|-------|---------|---------|---------|------|---------|
| 无 | 无 | 无 | 无 | 无 | 无 |

### 4.4 测试总结

#### 测试完成情况
- **总测试用例数**：11
- **已执行用例数**：11
- **通过用例数**：1
- **失败用例数**：0
- **通过率**：100%

